<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player - Ethan Smith</title>
    <link rel="icon" type="image/x-icon" href="https://i.postimg.cc/ZRtZB2Kb/ES-Final-2.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Playwrite+CU:wght@100..400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles/styles.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CGT8KVV8YF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-CGT8KVV8YF');
    </script>
</head>

<body class="light-mode">
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <h1 class="logo"><a href="#home">Ethan Smith</a></h1>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about/about-me.html">About Me</a></li>
                <li><a href="index.html#writings">My Writings</a></li>
                <li><a href="index.html#hockey-videos">Hockey Videos</a></li>
                <li><a href="player-profile.html">Player Profile</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-picture">
                <img src="web-hockey-pic (2).png" alt="Player Image">
            </div>
            <div class="player-info">
                <h1>Ethan Smith</h1>
                <h2>#72 G</h2>
                <ul class="player-details">
                    <li><strong>Height:</strong> 5'7"</li>
                    <li><strong>Weight:</strong> 177 lb</li>
                    <li><strong>Born:</strong> 12/21/2009 (Age: 14)</li>
                    <li><strong>Birthplace:</strong> Columbus, OH</li>
                    <li><strong>Catches:</strong> Left</li>
                </ul>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="season-stats">
                <h3>2024-25 Season</h3>
                <table>
                    <tr>
                        <th>GP</th>
                        <th>W</th>
                        <th>L</th>
                        <th>GAA</th>
                        <th>SV%</th>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>4</td>
                        <td>0</td>
                        <td id="gaa"></td>
                        <td id="sv%"></td>
                    </tr>
                </table>
            </div>
            <div class="career-stats">
                <h3>Career</h3>
                <table>
                    <tr>
                        <th>GP</th>
                        <th>W</th>
                        <th>L</th>
                        <th>SO</th>
                        <th>GAA</th>
                        <th>SV%</th>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>4</td>
                        <td>0</td>
                        <td>0</td>
                        <td id="gaa1"></td>
                        <td id="sv%1"></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Game Log Section -->
        <div class="game-log">
            <h3>Last 5 Games</h3>
            <table>
                <tr>
                    <th>Date</th>
                    <th>Opp</th>
                    <th>DEC</th>
                    <th>SA</th>
                    <th>GA</th>
                    <th>SV%</th>
                    <th>PIM</th>
                </tr>
                <tr>
                    <td>Oct 21, 2024</td>
                    <td>vs Everett</td>
                    <td>W</td>
                    <td class="sa">24</td>
                    <td class="ga">1</td>
                    <td class="sv"></td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>Oct 5, 2024</td>
                    <td>@ Tri-Cities</td>
                    <td>W</td>
                    <td class="sa">43</td>
                    <td class="ga">2</td>
                    <td class="sv"></td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>Sept 28, 2024</td>
                    <td>vs Wenatchee</td>
                    <td>W</td>
                    <td class="sa">21</td>
                    <td class="ga">1</td>
                    <td class="sv"></td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>Sept 21, 2024</td>
                    <td>vs Tacoma</td>
                    <td>W</td>
                    <td class="sa">23</td>
                    <td class="ga">1</td>
                    <td class="sv"></td>
                    <td>0</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Season stats calculation
            const seasonStats = {
                gamesPlayed: 4,
                wins: 4,
                losses: 0,
                shotsAgainst: 111,
                goalsAgainst: 5,
            };

            const calculateSavePercentage = (shotsAgainst, goalsAgainst) => {
                return ((shotsAgainst - goalsAgainst) / shotsAgainst).toFixed(3);
            };

            const calculateGAA = (goalsAgainst, gamesPlayed) => {
                return (goalsAgainst / gamesPlayed).toFixed(2);
            };

            const updateStats = () => {
                const savePercentage = calculateSavePercentage(seasonStats.shotsAgainst, seasonStats.goalsAgainst);
                const gaa = calculateGAA(seasonStats.goalsAgainst, seasonStats.gamesPlayed);

                document.getElementById('gaa').innerText = gaa;
                document.getElementById('sv%').innerText = savePercentage;
                document.getElementById('gaa1').innerText = gaa;
                document.getElementById('sv%1').innerText = savePercentage;
            };

            updateStats();

            // Populate Save Percentage in the Game Log
            const populateSavePercentages = () => {
                const rows = document.querySelectorAll(".game-log table tr:not(:first-child)"); // Skip header row

                rows.forEach(row => {
                    const shotsAgainst = parseInt(row.querySelector(".sa").textContent); // SA
                    const goalsAgainst = parseInt(row.querySelector(".ga").textContent); // GA
                    const svCell = row.querySelector(".sv"); // The cell for SV%

                    if (shotsAgainst > 0) {
                        const svPercentage = calculateSavePercentage(shotsAgainst, goalsAgainst); // Calculate SV%
                        svCell.textContent = svPercentage; // Populate the SV% in the table cell
                    } else {
                        svCell.textContent = "N/A"; // If no shots against, SV% is N/A
                    }
                });
            };

            // Call the function on page load to calculate and display the SV% for all rows
            populateSavePercentages();
        });
    </script>
</body>
</html>
